@startuml
title State Diagram Applicazione

[*] --> Acceso: accensione

state Acceso {
    state "Richiesta Eventi" as RichiestaEventi
    state "Notifica Utente" as NotificaUtente
    state "Sonno" as Sonno

    [*] --> RichiestaEventi

    RichiestaEventi: richiedi eventi
    RichiestaEventi: calcola differenze
    RichiestaEventi --> Sonno: non ci sono differenze
    RichiestaEventi -right-> NotificaUtente: ci sono differenze

    NotificaUtente: do/ notifica l'utente
    NotificaUtente --> Sonno

    Sonno: do/ aspetta 10 secondi
    Sonno --> RichiestaEventi

    --

    state "Aspetto Richiesta" as AspettoRichiesta
    state "Richiesta Ricerca" as RichiestaRicerca
    state "Mostra Dati" as MostraDati

    [*] -right-> AspettoRichiesta

    AspettoRichiesta: aspetta la richesta di ricerca d'utente
    AspettoRichiesta --> RichiestaRicerca: utente effetua ricerca

    RichiestaRicerca: do/ richiedi dati di ricerca
    RichiestaRicerca --> AspettoRichiesta: cancella ricerca
    RichiestaRicerca -right-> MostraDati

    MostraDati: mostra dati all'utente
    MostraDati --> AspettoRichiesta: indietro
}

Acceso --> [*]: spegnimento
@enduml
